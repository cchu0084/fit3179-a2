{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Lollipop chart of the most common cancers in Australia by estimated number of cases (2024), highlighting Melanoma of the skin.",
  "title": {
    "text": "Estimated new cancer cases in Australia in 2024",
    "fontSize": 16,
    "color": "#1b1b1b",
    "anchor": "middle"
  },
  "data": {
    "url": "data/statistic-melanoma-estimated-cancer-incidence-2024_shortened.csv"
  },
  "transform": [
    {"calculate": "trim(datum['Cancer type'])", "as": "cancer"},
    {"calculate": "replace(datum['Number of cases'], ',', '')", "as": "cases_str"},
    {"calculate": "toNumber(datum.cases_str)", "as": "cases"},
    {"filter": "datum.cancer !== null && datum.cancer !== ''"},
    {"filter": "datum.cases !== null && !isNaN(datum.cases)"}
  ],
  "width": 385,
  "height": {"step": 34},

  "encoding": {
    "y": {
      "field": "Cancer type",
      "type": "nominal",
      "sort": "-x",
      "axis": {
        "labels": true,
        "ticks": true,
        "domain": false,
        "title": null,
        "labelFontSize": 12
      }
    },
    "x": {
      "field": "cases",
      "type": "quantitative",
      "title": "Number of new cases",
      "axis": {
        "grid": true,
        "tickCount": 6,
        "labelExpr": "format(datum.value, ',')",
        "labels": true,
        "ticks": true,
        "domain": true,
        "labelFontSize": 12,
        "titleFontSize": 14
      }
    }
  },

  "layer": [
   
    {
      "mark": {"type": "rule", "strokeWidth": 8},
      "encoding": {
        "x2": {"value": 0},
        "color": {
          "condition": {
            "test": "datum['Cancer type'] === 'Melanoma'",
            "value": "orange"
          },
          "value": "lightgrey"
        }
      }
    },

    
    {
      "mark": {"type": "circle", "size": 160, "opacity": 1, "strokeWidth": 4},
      "encoding": {
        "fill": {
          "condition": {
            "test": "datum['Cancer type'] === 'Melanoma'",
            "value": "orange"
          },
          "value": "lightgrey"
        },
        "stroke": {
          "condition": {
            "test": "datum['Cancer type'] === 'Melanoma'",
            "value": "orange"
          },
          "value": "lightgrey"
        },
        "tooltip": [
          {"field": "Cancer type", "type": "nominal"},
          {
            "field": "cases",
            "type": "quantitative",
            "title": "Estimated cases",
            "format": ","
          }
        ]
      }
    },

    
    {
      "data": {"values": [{}]},
      "mark": {
        "type": "text",
        "fontSize": 14,
        "fill": "navy",
        "align": "left",
        "lineBreak": "\n"
      },
      "encoding": {
        "x": {"value": 120},
        "y": {"value": 230},
        "text": {
          "value": "The number of new Melanoma cases \nis 5.5 times higher than Uterine cancer. \nIt is projected to have close to 19,000 \nnew cases in 2024."
        }
      }
    }
  ],

  "config": {
    "axis": {"labelFontSize": 12, "titleFontSize": 14},
    "view": {"stroke": "transparent", "clip": false}
  }
}
